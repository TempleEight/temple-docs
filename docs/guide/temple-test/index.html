<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">Temple Test | Temple</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Temple Test | Temple"><meta data-react-helmet="true" name="description" content="In addition to automatic generation of microservice-based infrastructure, Temple also offers a tool for testing the generated code."><meta data-react-helmet="true" property="og:description" content="In addition to automatic generation of microservice-based infrastructure, Temple also offers a tool for testing the generated code."><meta data-react-helmet="true" property="og:url" content="https://templeeight.github.io/temple-docs//temple-docs/docs/guide/temple-test">

<link data-react-helmet="true" rel="shortcut icon" href="/temple-docs/img/favicon.ico">


<link rel="stylesheet" href="/temple-docs/styles.93060151.css">


<link rel="preload" href="/temple-docs/styles.c62b851f.js" as="script">

<link rel="preload" href="/temple-docs/runtime~main.8191c14e.js" as="script">

<link rel="preload" href="/temple-docs/main.ece8add9.js" as="script">

<link rel="preload" href="/temple-docs/1.dfbd7593.js" as="script">

<link rel="preload" href="/temple-docs/2.b044f527.js" as="script">

<link rel="preload" href="/temple-docs/35.90e0e044.js" as="script">

<link rel="preload" href="/temple-docs/35dd2a9b.ec8dfa91.js" as="script">

<link rel="preload" href="/temple-docs/17896441.6894cf81.js" as="script">

<link rel="preload" href="/temple-docs/a35af0ef.a2d7ae57.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/temple-docs/"><img class="navbar__logo" src="/temple-docs/img/temple.svg" alt="Temple Logo"><strong class="navbar__title">Temple</strong></a><a class="navbar__item navbar__link" href="/temple-docs/docs/introduction">Docs</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/TempleEight/temple" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/temple-docs/"><img class="navbar__logo" src="/temple-docs/img/temple.svg" alt="Temple Logo"><strong class="navbar__title">Temple</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/introduction">Docs</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/TempleEight/temple" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/access-control">Access Control</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/adding-dao-functions">Adding DAO Functions</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/adding-endpoints">Adding Endpoints</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/authentication">Authentication</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/enumeration">Enumeration</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/foreign-keys">Foreign Keys &amp; Inter-Service Communication</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/hooks">Business Logic &amp; Hooks</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/metrics">Metrics</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/omitting-endpoints">Omitting Endpoints</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/open-api">OpenAPI Generation</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/orchestration">Orchestration</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/regeneration">Regeneration</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/temple-docs/docs/guide/temple-test">Temple Test</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/guide/value-constraints">Value Constraints</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Generated Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/arch/system">System Architecture</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/arch/service">Service Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/reference/templefile-spec">Templefile Specification</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/reference/templefile-primitives">Templefile Primitives</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Example Templefiles</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/reference/example-templefiles/airbnb">Airbnb</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/reference/example-templefiles/amazon">Amazon</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/reference/example-templefiles/deliveroo">Deliveroo</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/reference/example-templefiles/five-a-side">5-a-Side</a></li><li class="menu__list-item"><a class="menu__link" href="/temple-docs/docs/reference/example-templefiles/lockdown-shopping">Lockdown Shopping</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Temple Test</h1></header><div class="markdown"><p>In addition to automatic generation of microservice-based infrastructure, Temple also offers a tool for testing the generated code.</p><p><code>temple test</code> has two main operating modes:</p><ol><li><p>A full testing mode, where it will spin up the infrastructure locally, mock a request to each endpoint and then shut the infrastructure down.</p></li><li><p>A request only mode, where the infrastructure is assumed to already be running, and only mock requests are sent to each endpoint.</p></li></ol><p>This is particularly useful to mock some requests to your service, or to test a change you may have made in the business logic.</p><p>In this short guide, we&#x27;ll show you how to use <code>temple test</code> with the project generated in the <a href="/temple-docs/docs/getting-started">Getting Started</a> guide.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="full-testing-mode"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#full-testing-mode" title="Direct link to heading">#</a>Full Testing Mode</h2><p>To access full testing mode, simply run the following command from the directory you generated the project in:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯❯❯ temple test example.temple</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">🐳 Spinning up Docker Compose infrastructure...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">🦍 Configuring Kong</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">🧪 Testing ExampleService service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService create</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService read</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService delete</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService readability</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService writablity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">🎉 Everything passed</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">💀 Shutting down Docker Compose infrastructure...</span></div></div></div></div></div><p>As you can see from the output, this performs a request to each endpoint within each service, validating the request and response match the expected values.
It also makes a series of requests which validate the access control settings put in place, to ensure that an unauthorized user is unable to access entities it does not own.
More information about this can be found in our <a href="/temple-docs/docs/guide/access-control">Access Control</a> guide.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="request-only-mode"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#request-only-mode" title="Direct link to heading">#</a>Request Only Mode</h2><p>Running in request only mode requires the addition of a flag to the <code>temple test</code> command.
This assumes that the infrastructure is running locally, and will not shut it down after the test are completed:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">❯❯❯ temple test --testOnly example.temple</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">🧪 Testing ExampleService service</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService create</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService read</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService delete</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService readability</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ✅ ExampleService writablity</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">🎉 Everything passed</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="how-temple-test-works"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-temple-test-works" title="Direct link to heading">#</a>How Temple Test Works</h2><p>The Temple test command works by mocking request bodies according to the attributes within the Templefile.
It will randomly generate suitable values, using any upper or lower bounds provided as <a href="/temple-docs/docs/guide/value-constraints">Value Constraints</a>, and populate a JSON object with these values.</p><p>After making the request, it will ensure that the response object matches what is expected, validating that any values passed in the request are also included in the response, removing any values with annotations.
See the <a href="/temple-docs/docs/guide/value-constraints">Value Constraints</a> guide for more on these.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/TempleEight/temple-docs/edit/master/TempleEight/docs/guide/temple-test.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/temple-docs/docs/guide/regeneration"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Regeneration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/temple-docs/docs/guide/value-constraints"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Value Constraints »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#full-testing-mode" class="contents__link">Full Testing Mode</a></li><li><a href="#request-only-mode" class="contents__link">Request Only Mode</a></li><li><a href="#how-temple-test-works" class="contents__link">How Temple Test Works</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 TempleEight. Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/temple-docs/styles.c62b851f.js"></script>

<script src="/temple-docs/runtime~main.8191c14e.js"></script>

<script src="/temple-docs/main.ece8add9.js"></script>

<script src="/temple-docs/1.dfbd7593.js"></script>

<script src="/temple-docs/2.b044f527.js"></script>

<script src="/temple-docs/35.90e0e044.js"></script>

<script src="/temple-docs/35dd2a9b.ec8dfa91.js"></script>

<script src="/temple-docs/17896441.6894cf81.js"></script>

<script src="/temple-docs/a35af0ef.a2d7ae57.js"></script>


</body>
</html>